<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Create Sales Draft</title>
  <!-- POPPINS FROM GOOGLE FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="./../static/css/output.css" rel="stylesheet" />
  <style>
    body { font-family: 'Poppins', sans-serif; }
  </style>
</head>
<body class="bg-[#2E2E2E] min-h-screen flex flex-col items-center p-4">



  <!-- MAIN CARD WITH INTERNAL HEADER -->
  <div class="bg-gray-800 bg-opacity-80 backdrop-blur-md rounded-2xl p-6 max-w-2xl w-full mx-auto text-white shadow-lg">
    <!-- CARD HEADER -->
    <div class="flex items-center justify-between mb-4 border-b border-gray-600 pb-2">
      <div class="text-2xl md:text-3xl font-semibold text-[#39FF14]">Create Sales Draft</div>
      <a href="/logout"
         class="px-3 py-1 bg-[#ff4444] text-white rounded-md shadow-lg hover:bg-[#cc0000] hover:shadow-[0_0_10px_2px_rgba(255,0,0,0.7)] transition-all duration-300">
        Logout
      </a>
    </div>
    


    <!-- FORM CONTENT -->
    <form id="sales-form" method="POST" action="{{ url_for('form') }}" class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-8">
      <!-- CUSTOMER & MODEL -->
      <div>
        <label for="customer_name" class="block mb-1">Customer Name</label>
        <input type="text" id="customer_name" name="customer_name" placeholder="Kieran Lim"
          class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" required />
      </div>
      <div>
        <label for="customer_contact" class="block mb-1">Customer Contact</label>
        <input type="text" id="customer_contact" name="customer_contact" placeholder="+65 1234 5678"
          class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" required />
      </div>
      <div>
        <label for="model" class="block mb-1">Model</label>
        <input type="text" id="model" name="model" placeholder="Car Model"
          class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" required />
      </div>



      <!-- PRICES, DISCOUNT & ADD-ONS -->
      <div class="md:col-span-2 grid grid-cols-3 gap-x-4 gap-y-8">
        <div class="mb-4">
          <label for="retail_price" class="block mb-1">RRP ($)</label>
          <input type="number" id="retail_price" name="retail_price" placeholder="0"
            class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" required />
        </div>
        <div class="mb-4">
          <label for="discount" class="block mb-1">Discount ($)</label>
          <input type="number" id="discount" name="discount" placeholder="0"
            class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" />
        </div>
        <div class="mb-4">
          <label for="addons" class="block mb-1">Add-Ons ($)</label>
          <input type="number" id="addons" name="addons" placeholder="0"
            class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" />
        </div>
      </div>



      <!-- NET PRICE & DOWNPAYMENT -->
      <div>
        <label for="net_price" class="block mb-1 text-[#39FF14]">Net Price</label>
        <input type="text" id="net_price" name="net_price" placeholder="0"
          class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" />
      </div>
      <div>
        <label for="downpayment" class="block mb-1 text-[#39FF14]">Downpayment</label>
        <input type="text" id="downpayment" placeholder="$0.00"
          class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none placeholder-gray-400 text-white pointer-events-none cursor-not-allowed" readonly />
      </div>



      <!-- PACKAGE OPTIONS AS CHECKBOXES -->
      <div class="md:col-span-2 mt-8 mb-8">
        <label class="block mb-1">Package Options (select all that apply)</label>
        <div class="grid grid-cols-2 gap-x-4 gap-y-2 max-h-52 overflow-y-auto p-2 bg-gray-700 rounded-md">
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="1 year road tax" class="accent-[#39FF14]"/>
            <span class="ml-2">1 yr road tax</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="5 years/200,000km warranty" class="accent-[#39FF14]"/>
            <span class="ml-2">5 yrs/200K km WTY</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="5 years/100,000km service" class="accent-[#39FF14]"/>
            <span class="ml-2">5 yrs/100K km service</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="5 years/100,000km service+" class="accent-[#39FF14]"/>
            <span class="ml-2">5 yrs/100K km service+</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="6 years/unlimited mileage service" class="accent-[#39FF14]"/>
            <span class="ml-2">6 yrs/unltd mileage service</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="8 years/160,000km EV battery warranty" class="accent-[#39FF14]"/>
            <span class="ml-2">8 yrs/160K km EV batt WTY</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="No wall box or charging credits" class="accent-[#39FF14]"/>
            <span class="ml-2">No wall box or CHG cr</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="3 years/200,000km warranty" class="accent-[#39FF14]"/>
            <span class="ml-2">3 years/200K km WTY</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="All weather mats" class="accent-[#39FF14]"/>
            <span class="ml-2">All weather mats</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="BMW dashcam" class="accent-[#39FF14]"/>
            <span class="ml-2">BMW dashcam</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="3M solar film premium" class="accent-[#39FF14]"/>
            <span class="ml-2">3M solar film premium</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="3M solar film crystalline dark" class="accent-[#39FF14]"/>
            <span class="ml-2">3M solar film cryst dark</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="$1,000 Takashimaya voucher" class="accent-[#39FF14]"/>
            <span class="ml-2">$1,000 Taka voucher</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="BMW loyalty programme" class="accent-[#39FF14]"/>
            <span class="ml-2">BMW loyalty programme</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="Anti-glare" class="accent-[#39FF14]"/>
            <span class="ml-2">Anti-glare</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="Number retention" id="number-retention" class="accent-[#39FF14]"/>
            <span class="ml-2">Number retention</span>
          </label>
          <!-- NEW PACKAGE OPTIONS -->
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="Free wall box charger and installation" class="accent-[#39FF14]"/>
            <span class="ml-2">Free wall box charger & installation</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="Opt out of wall box charger - $4,000 discount" class="accent-[#39FF14]"/>
            <span class="ml-2">Opt out wall box - $4K discount</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="Boot mat" class="accent-[#39FF14]"/>
            <span class="ml-2">Boot mat</span>
          </label>
          <label class="inline-flex items-center">
            <input type="checkbox" name="packages" value="1 year extended warranty" class="accent-[#39FF14]"/>
            <span class="ml-2">1 year extended warranty</span>
          </label>
        </div>
      </div>

      <!-- CUSTOM PACKAGES SECTION -->
      <div class="md:col-span-2 mt-6 mb-8">
        <div class="bg-gray-800 bg-opacity-60 backdrop-blur-sm rounded-xl p-6 border border-gray-600">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center space-x-2">
              <label class="text-lg font-semibold text-white">Custom Packages</label>
            </div>
            <div class="text-sm text-gray-400">Add your own packages</div>
          </div>
          
          <div id="custom-packages-container" class="space-y-4">
            <div class="custom-package-item group relative">
              <div class="flex items-center p-4 bg-gray-700 bg-opacity-50 rounded-lg border border-gray-600 hover:border-[#39FF14] transition-all duration-300 hover:shadow-lg hover:shadow-[#39FF14]/20">
                <div class="flex-1 min-w-0 pr-3">
                  <input type="text" name="custom_packages[]" placeholder="Enter custom package name" 
                    class="w-full px-3 py-2 bg-transparent border-none focus:outline-none focus:ring-0 placeholder-gray-400 text-white text-sm custom-package-input" />
                </div>
                <div class="flex-shrink-0">
                  <button type="button" class="remove-custom-package opacity-0 group-hover:opacity-100 px-3 py-2 bg-red-600 text-white rounded-md text-xs hover:bg-red-500 hover:scale-105 active:scale-95 transition-all duration-200 flex items-center space-x-1.5 shadow-sm hover:shadow-md">
                    <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                    </svg>
                    <span>Remove</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <button type="button" id="add-custom-package" class="mt-4 px-3 py-1.5 bg-gray-600 text-gray-300 text-sm font-medium rounded border border-gray-500 hover:bg-gray-500 hover:border-gray-400 hover:text-white transition-all duration-300 flex items-center justify-center space-x-1.5 group shadow-sm hover:shadow-md active:scale-95">
            <svg class="w-4 h-4 group-hover:rotate-90 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
            <span>Add Package</span>
          </button>
          
          <div class="mt-6 text-xs text-gray-400 text-center">
            💡 Tip: You can add multiple custom packages to include any additional features or services
          </div>
        </div>
      </div>


      <!-- TRADE-IN & FINANCE -->
      <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-x-6 mt-8">
        <div>
          <label class="inline-flex items-center">
            <input type="checkbox" id="tradein-checkbox" name="tradein-checkbox" class="mr-2 accent-[#39FF14]" />
            <span>Include Trade-In</span>
          </label>
          <div id="tradein-fields" class="hidden grid grid-cols-1 gap-y-4 mt-4">
            <div>
              <label for="tradein_plate" class="block mb-1">Car Plate Number</label>
              <input type="text" id="tradein_plate" name="tradein_plate" placeholder="SXX1234X"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-tradein-required />
            </div>
            <div>
              <label for="tradein_price" class="block mb-1">Trade-In Price ($)</label>
              <input type="number" id="tradein_price" name="tradein_price" placeholder="0" min="1"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-tradein-required />
            </div>
            <div>
              <label for="tradein_outstanding" class="block mb-1">Outstanding Loan ($)</label>
              <input type="number" id="tradein_outstanding" name="tradein_outstanding" placeholder="0" min="0"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-tradein-required />
            </div>
            <div>
              <label for="tradein_balance" class="block mb-1 text-[#39FF14]">Trade-In Balance</label>
              <input type="text" id="tradein_balance" name="tradein_balance" placeholder="$0.00"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none placeholder-gray-400 text-white pointer-events-none cursor-not-allowed" readonly />
            </div>
          </div>
        </div>
        <div>
          <label class="inline-flex items-center">
            <input type="checkbox" id="finance-checkbox" name="finance-checkbox" class="mr-2 accent-[#39FF14]" />
            <span>Include Finance</span>
          </label>
          <div id="finance-fields" class="hidden grid grid-cols-1 gap-y-4 mt-4">
            <div>
              <label for="finance_bank" class="block mb-1">Bank</label>
              <input type="text" id="finance_bank" name="finance_bank" placeholder="Bank Name"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-finance-required />
            </div>
            <div>
              <label for="finance_loan" class="block mb-1">Loan Amount ($)</label>
              <input type="number" id="finance_loan" name="finance_loan" placeholder="0" min="0"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-finance-required />
            </div>
            <div>
              <label for="finance_tenure" class="block mb-1">Tenure (months)</label>
              <input type="number" id="finance_tenure" name="finance_tenure" placeholder="0" min="1"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-finance-required />
            </div>
            <div>
              <label for="finance_rate" class="block mb-1">Interest Rate (%)</label>
              <input type="number" step="0.01" id="finance_rate" name="finance_rate" placeholder="0.00" min="0.01"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none focus-glow placeholder-gray-400 text-white" data-finance-required />
            </div>
            <div>
              <label for="finance_monthly" class="block mb-1 text-[#39FF14]">Monthly Installment (simple interest)</label>
              <input type="text" id="finance_monthly" name="finance_monthly" placeholder="$0"
                class="w-full px-3 py-2 bg-gray-700 rounded-md focus:outline-none placeholder-gray-400 text-white pointer-events-none cursor-not-allowed" readonly />
            </div>
          </div>
        </div>
      </div>



      <!-- SUBMIT -->
      <div class="md:col-span-2 mt-8">
        <button type="submit"
          class="w-full py-2 bg-[#39FF14] rounded-md text-gray-900 font-semibold hover:bg-opacity-80 hover:scale-105 transition-transform ripple">
          Create Draft
        </button>
      </div>
    </form>
  </div>



  <script src="./../static/js/form.js"></script>
</body>
</html>

